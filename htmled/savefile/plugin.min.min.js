'use strict';const plg__sf__dlog={title:"Save File ...",body:{type:"panel",items:[{type:"input",name:"asFile",inputMode:"text",label:"As filename ...",placeholder:"",enabled:!0,maximized:!1},{type:"checkbox",name:"down",label:"Download only",enabled:!0}]},doDnld:b=>{let a=document.createElement("a");a.download=b;a.type="text/html";b=new Blob([tinymce.activeEditor.getContent()]);a.href=URL.createObjectURL(b);a.click()},onSubmit:b=>{var a=b.getData();const c=a.asFile;a=a.down;c?(a?plg__sf__dlog.doDnld(c):
(document.getElementById("the_fnam").value=c,tinymce.activeEditor.execCommand("mceSave")),b.close()):alert("Please specify a file name")},buttons:[{type:"cancel",name:"cancelButton",text:"Cancel"},{type:"submit",name:"submitButton",text:"Save",buttonType:"primary"}]};(function(){tinymce.util.Tools.resolve("tinymce.PluginManager").add("savefile",b=>{b.ui.registry.addMenuItem("savefile",{icon:"savefile",text:"Save File",onAction:()=>tinymce.activeEditor.windowManager.open(plg__sf__dlog)})})})();